<%# Loading indicator that shows during Turbo navigation %>
<div id="loading-indicator" class="hidden fixed top-16 left-0 right-0 h-1 bg-emerald-600 z-50">
  <div class="h-full bg-lime-400 animate-pulse" style="animation: loading 1.5s ease-in-out infinite;"></div>
</div>

<style>
  @keyframes loading {
    0% { width: 0%; }
    50% { width: 70%; }
    100% { width: 100%; }
  }
</style>

<script>
  document.addEventListener('turbo:before-visit', () => {
    document.getElementById('loading-indicator')?.classList.remove('hidden');
  });
  
  document.addEventListener('turbo:load', () => {
    const indicator = document.getElementById('loading-indicator');
    if (indicator) {
      setTimeout(() => {
        indicator.classList.add('hidden');
      }, 300);
    }
  });
</script>

